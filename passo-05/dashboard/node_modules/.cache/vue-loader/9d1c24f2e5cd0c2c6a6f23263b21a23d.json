{"remainingRequest":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\src\\views\\Home.vue","mtime":1604386852876},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBncmFmaWNvbGluaGEgZnJvbSAnLi4vY29tcG9uZW50cy9ncmFmaWNvbGluaGEnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIGdyYWZpY29saW5oYQogIH0sCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICB1c3VhcmlvczpbXSwKICAgICAgaW50ZW5jb2VzOltdLAogICAgICBzdGF0dXM6W10sCiAgICAgIG1lbnNhZ2VuczpbXSwKICAgICAgZGFkb3M6IFsKICB7eDogIkEiLCB2YWx1ZTogNjM3MTY2fSwKICB7eDogIkIiLCB2YWx1ZTogNzIxNjMwfSwKICB7eDogIkMiLCB2YWx1ZTogMTQ4NjYyfSwKICB7eDogIkQiLCB2YWx1ZTogNzg2NjJ9LAogIHt4OiAiRSIsIHZhbHVlOiA5MDAwMH0KXSwKICAgICAgY2hhcnRPcHRpb25zOnsKICAgICAgICByZXNwb25zaXZlOnRydWUsCiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAoKCiAgYXN5bmMgY29ubmVjdCgpewogICAgICBpZihnbG9iYWwuY29ubmVjdGlvbiAmJiBnbG9iYWwuY29ubmVjdGlvbi5zdGF0ZSAhPT0gJ2Rpc2Nvbm5lY3RlZCcpCiAgICAgICAgICByZXR1cm4gZ2xvYmFsLmNvbm5lY3Rpb247CiAgCiAgICAgIGNvbnN0IG15c3FsID0gcmVxdWlyZSgibXlzcWwyL3Byb21pc2UiKTsKICAgICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oIm15c3FsOi8vbG9jYWxob3N0OjMzMDYvc21hcmtpb2RiP3VzZXI9c21hcmtpbyIpOwogICAgICBjb25zb2xlLmxvZygiQ29uZWN0b3Ugbm8gTXlTUUwhIik7CiAgICAgIGdsb2JhbC5jb25uZWN0aW9uID0gY29ubmVjdGlvbjsKICAgICAgcmV0dXJuIGNvbm5lY3Rpb247CiAgfSwKCgphc3luYyBidXNjYXIoKXsKICAgIGNvbnN0IGNvbm4gPSBhd2FpdCBjb25uZWN0KCk7CiAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uLnF1ZXJ5KCdzZWxlY3QgY291bnQoaWR1c3VhcmlvKSBmcm9tIHVzdWFyaW9zIHdoZXJlIG1vbnRoKGRhdGEpID0gNyBhbmQgeWVhcihkYXRhKSA9IDIwMjAnKTsKICAgIHJldHVybiByb3dzOwp9LAogCi8vbW9kdWxlLmV4cG9ydHMgPSB7c2VsZWN0Q3VzdG9tZXJzfTsKCiAgYXN5bmMgY3JlYXRlZCgpewogICAgICBjb25zdCB1c3VhcmlvcyA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4ODg4L3VzdWFyaW9zIik7CiAgICAgIGNvbnN0IGludGVuY29lcyA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4ODg4L2ludGVuY29lcyIpOwogICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9zdGF0dXMiKTsKICAgICAgY29uc3QgbWVuc2FnZW5zID0gYXdhaXQgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0Ojg4ODgvbWVuc2FnZW5zIik7CgogICAgICAvLyBjcmVhdGUgYSBjaGFydCBhbmQgc2V0IHRoZSBkYXRhCmNoYXJ0ID0gYW55Y2hhcnQucGllKGRhdGEpOwoKLy8gc2V0IHRoZSBjb250YWluZXIgaWQKY2hhcnQuY29udGFpbmVyKCJjb250YWluZXIiKTsKCi8vIGluaXRpYXRlIGRyYXdpbmcgdGhlIGNoYXJ0CmNoYXJ0LmRyYXcoKTsKICAgICAgCgoKICAgICAgY29uc29sZS5sb2codXN1YXJpb3MpOwogICAgICBjb25zb2xlLmxvZyhpbnRlbmNvZXMpOwogICAgICBjb25zb2xlLmxvZyhzdGF0dXMpOwogICAgICBjb25zb2xlLmxvZyhtZW5zYWdlbnMpOwogICAgICAKCiAgICAgIHVzdWFyaW9zLmRhdGEuZm9yRWFjaCgKICAgICAgICB1PT57CiAgICAgICAgICBjb25zdCBkYXRhID0gbW9tZW50KHUuZGF0YSwiWVlZWU1NREQiKS5mb3JtYXQoIkREL01NL1lZWVkiKTsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgaWR1c3VhcmlvLAogICAgICAgICAgICBub21lLAogICAgICAgICAgICBlbWFpbAogICAgICAgICAgfSA9IHU7CgogICAgICAgICAgdGhpcy51c3Vhcmlvcy5wdXNoKGlkdXN1YXJpbyxub21lLGVtYWlsLGRhdGEpOwogICAgICAgIH0KICAgICAgKTsKCiAgICAgIGludGVuY29lcy5kYXRhLmZvckVhY2goCiAgICAgICAgaT0+ewogICAgICAgICAgY29uc3QgZGF0YSA9IG1vbWVudChpLmRhdGEsIllZWVlNTUREIikuZm9ybWF0KCJERC9NTS9ZWVlZIik7CiAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgIGlkaW50ZW5jYW8sCiAgICAgICAgICAgIG5vbWUKICAgICAgICAgIH0gPSBpOwoKICAgICAgICAgIHRoaXMuaW50ZW5jb2VzLnB1c2goaWRpbnRlbmNhbyxub21lLGRhdGEpOwogICAgICAgIH0KICAgICAgKTsKCiAgICAgIHN0YXR1cy5kYXRhLmZvckVhY2goCiAgICAgICAgcz0+ewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBpZHN0YXR1cywKICAgICAgICAgICAgc3RhdHVzCiAgICAgICAgICB9ID0gczsKCiAgICAgICAgICB0aGlzLnN0YXR1cy5wdXNoKGlkc3RhdHVzLHN0YXR1cyk7CiAgICAgICAgfQogICAgICApOwoKICAgICAgbWVuc2FnZW5zLmRhdGEuZm9yRWFjaCgKICAgICAgICBtPT57CiAgICAgICAgICBjb25zdCBkYXRhID0gbW9tZW50KG0uZGF0YSwiWVlZWU1NREQiKS5mb3JtYXQoIkREL01NL1lZWVkiKTsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgaWRpbnRlbmNhbywKICAgICAgICAgICAgaWRtZW5zYWdlbSwKICAgICAgICAgICAgaWRzdGF0dXMsCiAgICAgICAgICAgIGlkdXN1YXJpbywKICAgICAgICAgICAgdGV4dG8KICAgICAgICAgIH0gPSBtOwoKICAgICAgICAgIHRoaXMubWVuc2FnZW5zLnB1c2goZGF0YSxpZGludGVuY2FvLGlkbWVuc2FnZW0saWRzdGF0dXMsaWR1c3VhcmlvLHRleHRvKTsKICAgICAgICB9CiAgICAgICkKCgogICAKICAgIH0KCgp9CgoKCgoKCgoK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;;;AAGA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"container\">\n      \n    </div>\n    <!-- {{ mensagens }} -->\n\n  </div>\n \n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios';\nimport moment from 'moment';\nimport graficolinha from '../components/graficolinha'\n\nexport default {\n  name: 'Home',\n  components: {\n    graficolinha\n  },\n  data(){\n    return{\n      usuarios:[],\n      intencoes:[],\n      status:[],\n      mensagens:[],\n      dados: [\n  {x: \"A\", value: 637166},\n  {x: \"B\", value: 721630},\n  {x: \"C\", value: 148662},\n  {x: \"D\", value: 78662},\n  {x: \"E\", value: 90000}\n],\n      chartOptions:{\n        responsive:true,\n        maintainAspectRatio: false\n      }\n    };\n  },\n\n\n  async connect(){\n      if(global.connection && global.connection.state !== 'disconnected')\n          return global.connection;\n  \n      const mysql = require(\"mysql2/promise\");\n      const connection = await mysql.createConnection(\"mysql://localhost:3306/smarkiodb?user=smarkio\");\n      console.log(\"Conectou no MySQL!\");\n      global.connection = connection;\n      return connection;\n  },\n\n\nasync buscar(){\n    const conn = await connect();\n    const [rows] = await conn.query('select count(idusuario) from usuarios where month(data) = 7 and year(data) = 2020');\n    return rows;\n},\n \n//module.exports = {selectCustomers};\n\n  async created(){\n      const usuarios = await axios.get(\"http://localhost:8888/usuarios\");\n      const intencoes = await axios.get(\"http://localhost:8888/intencoes\");\n      const status = await axios.get(\"http://localhost:8888/status\");\n      const mensagens = await axios.get(\"http://localhost:8888/mensagens\");\n\n      // create a chart and set the data\nchart = anychart.pie(data);\n\n// set the container id\nchart.container(\"container\");\n\n// initiate drawing the chart\nchart.draw();\n      \n\n\n      console.log(usuarios);\n      console.log(intencoes);\n      console.log(status);\n      console.log(mensagens);\n      \n\n      usuarios.data.forEach(\n        u=>{\n          const data = moment(u.data,\"YYYYMMDD\").format(\"DD/MM/YYYY\");\n          const {\n            idusuario,\n            nome,\n            email\n          } = u;\n\n          this.usuarios.push(idusuario,nome,email,data);\n        }\n      );\n\n      intencoes.data.forEach(\n        i=>{\n          const data = moment(i.data,\"YYYYMMDD\").format(\"DD/MM/YYYY\");\n          const {\n            idintencao,\n            nome\n          } = i;\n\n          this.intencoes.push(idintencao,nome,data);\n        }\n      );\n\n      status.data.forEach(\n        s=>{\n          const {\n            idstatus,\n            status\n          } = s;\n\n          this.status.push(idstatus,status);\n        }\n      );\n\n      mensagens.data.forEach(\n        m=>{\n          const data = moment(m.data,\"YYYYMMDD\").format(\"DD/MM/YYYY\");\n          const {\n            idintencao,\n            idmensagem,\n            idstatus,\n            idusuario,\n            texto\n          } = m;\n\n          this.mensagens.push(data,idintencao,idmensagem,idstatus,idusuario,texto);\n        }\n      )\n\n\n   \n    }\n\n\n}\n\n\n\n\n\n\n\n\n</script>\n\n<style>\n.home{\n  color:red;\n}\n</style>\n"]}]}