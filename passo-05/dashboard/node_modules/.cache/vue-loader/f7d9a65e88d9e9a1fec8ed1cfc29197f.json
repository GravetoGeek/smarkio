{"remainingRequest":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\src\\views\\Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\src\\views\\Home.vue","mtime":1604508412963},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vagas\\teste-smarkio\\passo-05\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmhvbWV7CiAgY29sb3I6cmVkOwp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <h4>Teste anychart</h4>\n    <div id=\"grafico\"></div>\n    {{ mensagens }}\n    <!-- {{ mensagens }} -->\n\n  </div>\n \n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from 'axios';\nimport moment from 'moment';\nimport anychart from 'anychart';\n//import graficolinha from '../components/graficolinha';\n\n\nexport default {\n  name: 'Home',\n  components: {\n    //graficolinha\n  },\n  data(){\n    return{\n      usuarios:[],\n      intencoes:[],\n      status:[],\n      mensagens:[],\n      query:[],\n      dados: [\n  {x: \"A\", value: 637166},\n  {x: \"B\", value: 721630},\n  {x: \"C\", value: 148662},\n  {x: \"D\", value: 78662},\n  {x: \"E\", value: 90000}],\n      chartOptions:{\n        responsive:true,\n        maintainAspectRatio: false\n      }\n    };\n  },\n\n\n//   async connect(){\n//       if(global.connection && global.connection.state !== 'disconnected')\n//           return global.connection;\n  \n//       const mysql = require(\"mysql2/promise\");\n//       const connection = await mysql.createConnection(\"mysql://localhost:3306/smarkiodb?user=smarkio\");\n//       console.log(\"Conectou no MySQL!\");\n//       global.connection = connection;\n//       return connection;\n//   },\n\n\n// async buscar(){\n//     const conn = await this.connect();\n//     //const [rows] = await conn.query('select count(idusuario) from usuarios where month(data) = 7 and year(data) = 2020');\n//     const rows = await conn.query('select count(idusuario) from usuarios where month(data) = 7 and year(data) = 2020');\n//     console.log(rows);\n//     this.query = rows;\n//     return rows;\n// },\n \n//module.exports = {selectCustomers};\n\n  async created(){\n      const usuarios = await axios.get(\"http://localhost:8888/usuarios\");\n      const intencoes = await axios.get(\"http://localhost:8888/intencoes\");\n      const status = await axios.get(\"http://localhost:8888/status\");\n      const mensagens = await axios.get(\"http://localhost:8888/mensagens\");\n\n\n      var chart = anychart.pie(this.dados);\n      chart.container(\"grafico\");\n      chart.draw();\n\n      console.log(usuarios);\n      console.log(intencoes);\n      console.log(status);\n      console.log(mensagens);\n      \n\n      usuarios.data.forEach(\n        u=>{\n          const data = moment(u.data,\"YYYYMMDD\").format(\"DD/MM/YYYY\");\n          const {\n            idusuario,\n            nome,\n            email\n          } = u;\n\n          this.usuarios.push(idusuario,nome,email,data);\n        }\n      );\n\n      intencoes.data.forEach(\n        i=>{\n          const data = moment(i.data,\"YYYYMMDD\").format(\"DD/MM/YYYY\");\n          const {\n            idintencao,\n            nome\n          } = i;\n\n          this.intencoes.push(idintencao,nome,data);\n        }\n      );\n\n      status.data.forEach(\n        s=>{\n          const {\n            idstatus,\n            status\n          } = s;\n\n          this.status.push(idstatus,status);\n        }\n      );\n\n      mensagens.data.forEach(\n        m=>{\n          const data = moment(m.data,\"YYYYMMDD\").format(\"DD/MM/YYYY\");\n          const {\n            idintencao,\n            idmensagem,\n            idstatus,\n            idusuario,\n            texto\n          } = m;\n\n          this.mensagens.push(data,idintencao,idmensagem,idstatus,idusuario,texto);\n        }\n      )\n\n\n   \n    }\n\n\n}\n\n\n\n\n\n\n\n\n</script>\n\n<style>\n.home{\n  color:red;\n}\n</style>\n"]}]}